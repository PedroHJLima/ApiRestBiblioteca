CREATE DATABASE biblioteca;
\c biblioteca //conecta com biblioteca

CREATE TABLE editora(
    id SERIAL PRIMARY KEY NOT NULL,
    nome VARCHAR(25) NOT NULL
);

CREATE TABLE autor(
    id SERIAL PRIMARY KEY NOT NULL,
    nome VARCHAR(50) NOT NULL,
    pais VARCHAR(20) NOT NULL
);

CREATE TABLE clientes(
    matricula SERIAL PRIMARY KEY NOT NULL,
    nome VARCHAR(50) NOT NULL,
    telefone VARCHAR(20) NOT NULL,
    contaLivros INT
);

CREATE TABLE livros(
    isbn VARCHAR(15) UNIQUE PRIMARY KEY NOT NULL,
    nome VARCHAR(20) NOT NULL,
    disponivel BOOLEAN NOT NULL DEFAULT TRUE,
    autorID INT NOT NULL,
    editoraID INT NOT NULL,
    ano DATE NOT NULL,
    usuarioID INT,
    FOREIGN KEY (usuarioID) REFERENCES clientes(matricula),
    FOREIGN KEY (autorID) REFERENCES autor(id),
    FOREIGN KEY (editoraID) REFERENCES editora(id)
);


\l //mostra todas as databases
\q //sai
\cls //limpa o prompt
\dt após conectar a uma database pra ver todas as relações